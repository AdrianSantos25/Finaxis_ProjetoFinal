extends ../layout

block content
  .row.justify-content-center.py-3
    .col-md-5.col-lg-4
      .card.shadow-sm
        .card-body.p-3
          .text-center.mb-3
            img.auth-logo(src="/images/logo.svg" alt="FINAXIS" style="max-width: 140px;")
            h4.mt-2.mb-1 Nova Palavra-passe
            p.text-muted.small.mb-0 Defina a sua nova palavra-passe

          if erro
            .alert.alert-danger.py-2.d-flex.align-items-center.mb-2
              i.bi.bi-exclamation-triangle.me-2
              small #{erro}

          if sucesso
            .alert.alert-success.py-2.mb-2
              .d-flex.align-items-center
                i.bi.bi-check-circle.me-2
                small #{sucesso}
              .text-center.mt-2
                a.btn.btn-sm.btn-primary(href="/auth/login")
                  i.bi.bi-box-arrow-in-right.me-1
                  | Ir para Login

          if !sucesso
            form(method="POST" action=`/auth/redefinir-senha/${token}`)
              .mb-2
                label.form-label.small.mb-1(for="password") Nova Palavra-passe
                .input-group.input-group-sm
                  span.input-group-text
                    i.bi.bi-lock
                  input.form-control(type="password" name="password" id="password" required placeholder="MÃ­nimo 6 caracteres" minlength="6")

              .mb-3
                label.form-label.small.mb-1(for="confirmarPassword") Confirmar Palavra-passe
                .input-group.input-group-sm
                  span.input-group-text
                    i.bi.bi-lock-fill
                  input.form-control(type="password" name="confirmarPassword" id="confirmarPassword" required placeholder="Repita a palavra-passe" minlength="6")

              button.btn.btn-primary.w-100(type="submit")
                i.bi.bi-check-lg.me-2
                | Redefinir Palavra-passe

            hr.my-3

            .text-center
              a.small(href="/auth/login")
                i.bi.bi-arrow-left.me-1
                | Voltar ao login
